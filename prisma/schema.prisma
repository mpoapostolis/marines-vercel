generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model marines {
  id           String     @id @default(dbgenerated())
  name         String?
  date_created DateTime   @default(now())
  services     services[]
  spots        spots[]
}

model services {
  id           String   @id @default(dbgenerated())
  marine_id    String?
  name         String?
  price        Float?
  description  String?
  date_created DateTime @default(now())
  marines      marines? @relation(fields: [marine_id], references: [id])
}

model spatial_ref_sys {
  srid      Int     @id
  auth_name String?
  auth_srid Int?
  srtext    String?
  proj4text String?
}

model spots {
  id           String     @id @default(dbgenerated())
  name         String?
  price        Float?
  marine_id    String
  length       Float
  draught      Float
  available    Boolean?   @default(true)
  // This type is currently not supported.
  // geom      geography?
  coords       Int[]
  date_created DateTime   @default(now())
  marines      marines    @relation(fields: [marine_id], references: [id])
}

model users {
  id           String    @id @default(dbgenerated())
  first_name   String?
  last_name    String?
  avatar       String?
  email        String?
  gender       gender?
  birthday     DateTime?
  user_name    String?
  password     String?
  fb_id        String?
  date_created DateTime  @default(now())
  vessels      vessels[]
}

model vessels {
  id           String   @id @default(dbgenerated())
  user_id      String?
  name         String?
  length       Float
  draught      Float
  description  String?
  date_created DateTime @default(now())
  users        users?   @relation(fields: [user_id], references: [id])
}

enum gender {
  female
  male
}
